### YamlMime:Reference
uid: Azure%3A%3ACore%3A%3AHttp%3A%3ACurlConnection
title: Azure::Core::Http::CurlConnection Class Reference
components:
- content: >-
    <p>CURL HTTP connection.  
     <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#details">More...</a></p><p><code>#include &lt;<a href="curl__connection__private_8hpp_source.html">curl_connection_private.hpp</a>&gt;</code></p><p>This class inherits from:</p>
- linkList:
  - name: Azure::Core::Http::CurlNetworkConnection
    href: class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html
- section: Public Member Functions
  display: h2
- apiList:
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#ae028bfff06339fae9b1486bc34d9e42e">CurlConnection</a> (<a href="class_azure_1_1_core_1_1_http_1_1_request.html">Azure::Core::Http::Request</a> &amp;request, <a href="struct_azure_1_1_core_1_1_http_1_1_curl_transport_options.html">Azure::Core::Http::CurlTransportOptions</a> const &amp;options, std::string const &amp;hostDisplayName, std::string const &amp;connectionPropertiesKey)
    summary: Construct CURL HTTP connection.
    returnType: '&#160;'
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#a4d52d51c148ceb82858f0dd6de83f317">~CurlConnection</a> () override
    summary: Destructor.
    returnType: '&#160;'
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#a2b8da0ad12d29ac85ce8334e9bb2b177">GetConnectionKey</a> () const override
    summary: Get the Connection Properties Key object.
    returnType: std::string const &amp;&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#a1ccde96315ab2370ced8bcfc87cc1556">UpdateLastUsageTime</a> () override
    summary: Update last usage time for the connection.
    returnType: void&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#a011c45dd8398536a6eda1dde6e8a4cb4">IsExpired</a> () override
    summary: Checks whether this CURL connection is expired.
    returnType: bool&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#a39ec5246e8cab60c9229acee7f2f8ce7">ReadFromSocket</a> (uint8_t *buffer, size_t bufferSize, <a href="class_azure_1_1_core_1_1_context.html">Context</a> const &amp;context) override
    summary: This function is used when working with streams to pull more data from the wire. Function will try to keep pulling data from socket until the buffer is all written or until there is no more data to get from the socket.
    returnType: size_t&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_connection.html#a38965e729c4fb3fb234f1753562e7116">SendBuffer</a> (uint8_t const *buffer, size_t bufferSize, <a href="class_azure_1_1_core_1_1_context.html">Context</a> const &amp;context) override
    summary: This method will use libcurl socket to write all the bytes from buffer.
    returnType: CURLcode&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a8748df2b1bf8402584acb0249b8b1844">~CurlNetworkConnection</a> ()=default
    summary: Allow derived classes calling a destructor.
    returnType: virtual&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a1ec150945dfb9ad8831cec9c2d2d5109">GetConnectionKey</a> () const =0
    summary: Get the Connection Properties Key object.
    returnType: virtual std::string const &amp;&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a33c469afabc2ff3dd0b096a03e0cb0cf">UpdateLastUsageTime</a> ()=0
    summary: Update last usage time for the connection.
    returnType: virtual void&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a53e781c7fa6b1a875998f84c62581f05">IsExpired</a> ()=0
    summary: Checks whether this CURL connection is expired.
    returnType: virtual bool&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a70019a25e47e49fb9b91c6d79d89cf89">ReadFromSocket</a> (uint8_t *buffer, size_t bufferSize, <a href="class_azure_1_1_core_1_1_context.html">Context</a> const &amp;context)=0
    summary: This function is used when working with streams to pull more data from the wire. Function will try to keep pulling data from socket until the buffer is all written or until there is no more data to get from the socket.
    returnType: virtual size_t&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#afbc09222e1cd35e2173b397153015501">SendBuffer</a> (uint8_t const *buffer, size_t bufferSize, <a href="class_azure_1_1_core_1_1_context.html">Context</a> const &amp;context)=0
    summary: This method will use libcurl socket to write all the bytes from buffer.
    returnType: virtual CURLcode&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a6f47fb11d68a6e40de30cc1b172ef6a4">Shutdown</a> ()
    summary: Set the connection into an invalid and unusable state.
    returnType: virtual void&#160;
  - declaration: <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#acd1b6bbeb9cd1229c48d276064610458">IsShutdown</a> () const
    summary: Check if the the connection was shut it down.
    returnType: bool&#160;
- section: Detailed Description
  display: h2
- section: Constructor &amp; Destructor Documentation
  display: h2
- section: CurlConnection()
  display: h3
- declaration: >-
    CurlConnection::CurlConnection(Azure::Core::Http::Request &amp;&#160;                   request,                
                                   Azure::Core::Http::CurlTransportOptions const &amp;&#160;options,                
                                   std::string const &amp;&#160;                            hostDisplayName,        
                                   std::string const &amp;&#160;                            connectionPropertiesKey&#160;
                                  )
  languageId: cpp
- section: Parameters
  display: h4
- parameters:
  - name: request
    summary: Remote request
  - name: options
    summary: Connection options.
  - name: hostDisplayName
    summary: Display name for remote host, used for diagnostics.
  - name: connectionPropertiesKey
    summary: CURL connection properties key
- section: ~CurlConnection()
  display: h3
- declaration: Azure::Core::Http::CurlConnection::~CurlConnection() inline override
  languageId: cpp
- content: <p>Cleans up CURL (invokes <code>curl_easy_cleanup()</code>). </p>
- section: Member Function Documentation
  display: h2
- section: GetConnectionKey()
  display: h3
- declaration: std::string const  &amp; Azure::Core::Http::CurlConnection::GetConnectionKey()const inline override virtual
  languageId: cpp
- content: <p>Implements <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a1ec150945dfb9ad8831cec9c2d2d5109">Azure::Core::Http::CurlNetworkConnection</a>.</p>
- section: IsExpired()
  display: h3
- declaration: bool Azure::Core::Http::CurlConnection::IsExpired() inline override virtual
  languageId: cpp
- section: Returns
  display: h4
- parameters:
  - summary: <code>true</code> if this connection is considered expired; otherwise, <code>false</code>.
- content: <p>Implements <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a53e781c7fa6b1a875998f84c62581f05">Azure::Core::Http::CurlNetworkConnection</a>.</p>
- section: ReadFromSocket()
  display: h3
- declaration: >-
    size_t CurlConnection::ReadFromSocket(uint8_t *&#160;      buffer,    
                                          size_t&#160;         bufferSize,
                                          Context const &amp;&#160;context&#160;   
                                         ) override virtual
  languageId: cpp
- section: Parameters
  display: h4
- parameters:
  - name: context
    summary: A context to control the request lifetime.
  - name: buffer
    summary: ptr to buffer where to copy bytes from socket.
  - name: bufferSize
    summary: size of the buffer and the requested bytes to be pulled from wire.
- section: Returns
  display: h4
- parameters:
  - summary: return the numbers of bytes pulled from socket. It can be less than what it was requested.
- content: <p>Implements <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a70019a25e47e49fb9b91c6d79d89cf89">Azure::Core::Http::CurlNetworkConnection</a>.</p>
- section: SendBuffer()
  display: h3
- declaration: >-
    CURLcode CurlConnection::SendBuffer(uint8_t const *&#160;buffer,    
                                        size_t&#160;         bufferSize,
                                        Context const &amp;&#160;context&#160;   
                                       ) override virtual
  languageId: cpp
- section: Remarks
  display: h4
- parameters:
  - summary: Hardcoded timeout is used in case a socket stop responding.
- section: Parameters
  display: h4
- parameters:
  - name: context
    summary: A context to control the request lifetime.
  - name: buffer
    summary: ptr to the data to be sent to wire.
  - name: bufferSize
    summary: size of the buffer to send.
- section: Returns
  display: h4
- parameters:
  - summary: CURL_OK when response is sent successfully.
- content: <p>Implements <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#afbc09222e1cd35e2173b397153015501">Azure::Core::Http::CurlNetworkConnection</a>.</p>
- section: UpdateLastUsageTime()
  display: h3
- declaration: void Azure::Core::Http::CurlConnection::UpdateLastUsageTime() inline override virtual
  languageId: cpp
- content: <p>Implements <a href="class_azure_1_1_core_1_1_http_1_1_curl_network_connection.html#a33c469afabc2ff3dd0b096a03e0cb0cf">Azure::Core::Http::CurlNetworkConnection</a>.</p>
