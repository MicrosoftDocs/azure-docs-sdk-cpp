### YamlMime:Reference
uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient
title: Azure::Security::Attestation::AttestationAdministrationClient Class Reference
xrefType: Class
xrefName: Azure::Security::Attestation::AttestationAdministrationClient
components:
- content: >-
    <p>The <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client">AttestationAdministrationClient</a> implements the functionality required by the "Administration" family of attestation service APIs.  
     <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#details">More...</a></p><p><code>#include &lt;attestation_administration_client.hpp&gt;</code></p>
- section: Public Member Functions
  display: h2
- apiList:
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a9fa2c7cb0b1b3a1c9064974126cdf7c1">AttestationAdministrationClient</a> (<a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client">AttestationAdministrationClient</a> const &amp;attestationClient)=default
    summary: Construct a new Attestation Administration Client object from another attestation administration client.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a9fa2c7cb0b1b3a1c9064974126cdf7c1">More...</a>
    returnType: '&#160;'
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#ae240c731a8cdccdd51be9ba6a120cd08">~AttestationAdministrationClient</a> ()=default
    summary: Destructor.
    returnType: >-
      <a id="ae240c731a8cdccdd51be9ba6a120cd08"></a>

      virtual&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a8a1842bd7899528b5f32e9a89a83468c">Endpoint</a> () const
    summary: Returns the Endpoint which the client is communicating with.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a8a1842bd7899528b5f32e9a89a83468c">More...</a>
    returnType: std::string const&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a82e8ecdce5119142c0ef5d86a621a7bb">GetAttestationPolicy</a> (<a href="class_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_type">Models::AttestationType</a> const &amp;attestationType, <a href="struct_azure_1_1_security_1_1_attestation_1_1_get_policy_options">GetPolicyOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_get_policy_options">GetPolicyOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{}) const
    summary: Retrieves an Attestation Policy from the service.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a82e8ecdce5119142c0ef5d86a621a7bb">More...</a>
    returnType: Response&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; std::string &gt; &gt;&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a70ce6c8b9e39e1115e8c1885b15db5ea">SetAttestationPolicy</a> (<a href="class_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_type">Models::AttestationType</a> const &amp;attestationType, std::string const &amp;policyToSet, <a href="struct_azure_1_1_security_1_1_attestation_1_1_set_policy_options">SetPolicyOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_set_policy_options">SetPolicyOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{}) const
    summary: Sets the attestation policy for the specified AttestationType.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a70ce6c8b9e39e1115e8c1885b15db5ea">More...</a>
    returnType: Response&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_policy_result">Models::PolicyResult</a> &gt; &gt;&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a4eec56bda69541415df341df8908368a">ResetAttestationPolicy</a> (<a href="class_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_type">Models::AttestationType</a> const &amp;attestationType, <a href="struct_azure_1_1_security_1_1_attestation_1_1_set_policy_options">SetPolicyOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_set_policy_options">SetPolicyOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{}) const
    summary: Resets the attestation policy for the specified AttestationType to its default.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a4eec56bda69541415df341df8908368a">More...</a>
    returnType: Response&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_policy_result">Models::PolicyResult</a> &gt; &gt;&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a7ebfe672a3de7ff6a77c882e0d615551">CreateAttestationPolicyToken</a> (Azure::Nullable&lt; std::string &gt; const &amp;policyToSet, Azure::Nullable&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_attestation_signing_key">AttestationSigningKey</a> &gt; const &amp;signingKey={}) const
    summary: Returns an Attestation Token object which would be sent to the attestation service to set or reset an attestation policy.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a7ebfe672a3de7ff6a77c882e0d615551">More...</a>
    returnType: <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; void &gt;&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a02375cc42ae361b5b33b439ce96d10ed">GetIsolatedModeCertificates</a> (<a href="struct_azure_1_1_security_1_1_attestation_1_1_get_isolated_mode_certificates_options">GetIsolatedModeCertificatesOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_get_isolated_mode_certificates_options">GetIsolatedModeCertificatesOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{}) const
    summary: Retrieves the list of isolated mode management certificates.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a02375cc42ae361b5b33b439ce96d10ed">More...</a>
    returnType: Response&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_isolated_mode_certificate_list_result">Models::IsolatedModeCertificateListResult</a> &gt; &gt;&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a65132a4cd2ce171286086650cec4964f">AddIsolatedModeCertificate</a> (std::string const &amp;pemEncodedCertificateToAdd, <a href="struct_azure_1_1_security_1_1_attestation_1_1_attestation_signing_key">AttestationSigningKey</a> const &amp;signerForRequest, <a href="struct_azure_1_1_security_1_1_attestation_1_1_add_isolated_mode_certificate_options">AddIsolatedModeCertificateOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_add_isolated_mode_certificate_options">AddIsolatedModeCertificateOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{}) const
    summary: Adds a new certificate to the list of policy management certificates.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a65132a4cd2ce171286086650cec4964f">More...</a>
    returnType: Response&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_isolated_mode_certificate_modification_result">Models::IsolatedModeCertificateModificationResult</a> &gt; &gt;&#160;
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a2d85116ce7367b2348e677f808279f51">RemoveIsolatedModeCertificate</a> (std::string const &amp;pemEncodedCertificateToAdd, <a href="struct_azure_1_1_security_1_1_attestation_1_1_attestation_signing_key">AttestationSigningKey</a> const &amp;signerForRequest, <a href="struct_azure_1_1_security_1_1_attestation_1_1_remove_isolated_mode_certificate_options">RemoveIsolatedModeCertificateOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_remove_isolated_mode_certificate_options">RemoveIsolatedModeCertificateOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{}) const
    summary: Removes a certificate from the list of policy management certificates for the instance.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a2d85116ce7367b2348e677f808279f51">More...</a>
    returnType: Response&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_attestation_token">Models::AttestationToken</a>&lt; <a href="struct_azure_1_1_security_1_1_attestation_1_1_models_1_1_isolated_mode_certificate_modification_result">Models::IsolatedModeCertificateModificationResult</a> &gt; &gt;&#160;
- section: Static Public Member Functions
  display: h2
- apiList:
  - declaration: <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a0553dc022ea0385809198f8e595faf93">Create</a> (std::string const &amp;endpoint, std::shared_ptr&lt; Core::Credentials::TokenCredential const &gt; credential, <a href="struct_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client_options">AttestationAdministrationClientOptions</a> const &amp;options=<a href="struct_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client_options">AttestationAdministrationClientOptions</a>{}, Azure::Core::Context const &amp;context=Azure::Core::Context{})
    summary: Construct a new Attestation Administration Client object.  <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a0553dc022ea0385809198f8e595faf93">More...</a>
    returnType: static <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client">AttestationAdministrationClient</a>&#160;
- content: <a id="details"></a>
- section: Detailed Description
  display: h2
- section: Note
  display: h4
- parameters:
  - summary: ': Attestation administration APIs cannot be used on shared attestation service instances.'
- content: >-
    <p>The Administration family of APIs provide APIs to manage:</p><ul>

    <li>Attestation policies.</li>

    <li>Attestation policy management certificates (Isolated attestation service instances only).</li>

    </ul><p>There are three flavors of attestation service instances:</p><ol>

    <li>Shared Mode</li>

    <li>AAD Mode</li>

    <li>Isolated Mode</li>

    </ol><p>Shared mode attestation service instances do not allow any administration actions at all. They exist to allow customers to perform attestation operations without requiring any customizations.</p><p>AAD Mode instances allow customers to modify attestation policies. When the attestation instance is in AAD mode, the creator of the instance indicates that they trust ARM RBAC and Microsoft AAD to validate client connections to the service. As such, additional proof of authorization is not required for administrative operations. </p>
- section: Constructor &amp; Destructor Documentation
  display: h2
- content: <a id="a9fa2c7cb0b1b3a1c9064974126cdf7c1"></a>
- section: AttestationAdministrationClient()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.AttestationAdministrationClient%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.AttestationAdministrationClient()
- declaration: Azure::Security::Attestation::AttestationAdministrationClient::AttestationAdministrationClient(AttestationAdministrationClient const &amp;&#160;attestationClient) default
  languageId: cpp
- section: Parameters
  display: h4
- parameters:
  - name: attestationClient
    summary: An existing attestation client.
- section: Member Function Documentation
  display: h2
- content: <a id="a65132a4cd2ce171286086650cec4964f"></a>
- section: AddIsolatedModeCertificate()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.AddIsolatedModeCertificate%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.AddIsolatedModeCertificate()
- declaration: >-
    Azure::Response&lt; Models::AttestationToken&lt; Models::IsolatedModeCertificateModificationResult &gt; &gt; AttestationAdministrationClient::AddIsolatedModeCertificate(std::string const &amp;&#160;                      pemEncodedCertificateToAdd,                   
                                                                                                                                                                 AttestationSigningKey const &amp;&#160;            signerForRequest,                             
                                                                                                                                                                 AddIsolatedModeCertificateOptions const &amp;&#160;options = AddIsolatedModeCertificateOptions{},
                                                                                                                                                                 Azure::Core::Context const &amp;&#160;             context = Azure::Core::Context{}&#160;             
                                                                                                                                                                )                                          const
  languageId: cpp
- content: <p>When the attestation service is running in "Isolated" mode, the service maintains a set of X.509 certificates which must be used to sign all policy operations. The AddIsolatedModeCertificates API adds a new certificate to the list of certificates which are used for this attestation service instance.</p>
- section: Note
  display: h4
- parameters:
  - summary: The signerForRequest certificate MUST be one of the policy management certificates returned by <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a02375cc42ae361b5b33b439ce96d10ed">GetIsolatedModeCertificates</a>.
- section: Parameters
  display: h4
- parameters:
  - name: pemEncodedCertificateToAdd
    summary: The X.509 certificate to add to the service.
  - name: signerForRequest
    summary: Private key and certificate pair to be used to sign the request to the service.
  - name: options
    summary: Options to be set when adding the new certificate.
  - name: context
    summary: Call context for the operation.
- section: Returns
  display: h4
- parameters:
  - summary: Response&lt;Models::AttestationToken&lt;Models::PolicyCertificateListResult&gt;&gt; Return value from the operation.
- content: <a id="a0553dc022ea0385809198f8e595faf93"></a>
- section: Create()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.Create%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.Create()
- declaration: >-
    AttestationAdministrationClient AttestationAdministrationClient::Create(std::string const &amp;&#160;                                        endpoint,                                          
                                                                            std::shared_ptr&lt; Core::Credentials::TokenCredential const &gt;&#160;credential,                                        
                                                                            AttestationAdministrationClientOptions const &amp;&#160;             options = AttestationAdministrationClientOptions{},
                                                                            Azure::Core::Context const &amp;&#160;                               context = Azure::Core::Context{}&#160;                  
                                                                           ) static
  languageId: cpp
- section: Parameters
  display: h4
- parameters:
  - name: endpoint
    summary: The URL address where the client will send the requests to.
  - name: credential
    summary: The authentication token to use.
  - name: options
    summary: The options to customize the client behavior.
- section: Returns
  display: h4
- parameters:
  - summary: The newly created client.
- content: <a id="a7ebfe672a3de7ff6a77c882e0d615551"></a>
- section: CreateAttestationPolicyToken()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.CreateAttestationPolicyToken%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.CreateAttestationPolicyToken()
- declaration: >-
    Models::AttestationToken&lt; void &gt; AttestationAdministrationClient::CreateAttestationPolicyToken(Azure::Nullable&lt; std::string &gt; const &amp;&#160;          policyToSet,    
                                                                                                   Azure::Nullable&lt; AttestationSigningKey &gt; const &amp;&#160;signingKey = {}&#160;
                                                                                                  )                                                 const
  languageId: cpp
- content: <p>To verify that the attestation service received the attestation policy, the service returns the SHA256 hash of the policy token which was sent ot the service. To simplify the customer experience of interacting with the SetAttestationPolicy and ResetAttestationPolicy APIs, CreateSetAttestationPolicyToken API will generate the same token that would be send to the service.</p><p>To ensure that the token which was sent from the client matches the token which was received by the attestation service, the customer can call CreateSetAttestationPolicyToken and then generate the SHA256 of that token and compare it with the value returned by the service - the two hash values should be identical.</p>
- section: Parameters
  display: h4
- parameters:
  - name: policyToSet
    summary: The policy document to set.
  - name: signingKey
    summary: Optional Attestation Signing Key to be used to sign the policy.
- section: Returns
  display: h4
- parameters:
  - summary: Models::AttestationToken&lt;void&gt; Attestation token which would be sent to the attestation service based on this signing key.
- section: Note
  display: h4
- parameters:
  - summary: ': If policyToSet is null, then this generates a policy reset token.'
- content: <a id="a8a1842bd7899528b5f32e9a89a83468c"></a>
- section: Endpoint()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.Endpoint%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.Endpoint()
- declaration: std::string const Azure::Security::Attestation::AttestationAdministrationClient::Endpoint()const inline
  languageId: cpp
- section: Returns
  display: h4
- parameters:
  - summary: The remote endpoint used when communicating with the attestation service.
- content: <a id="a82e8ecdce5119142c0ef5d86a621a7bb"></a>
- section: GetAttestationPolicy()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.GetAttestationPolicy%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.GetAttestationPolicy()
- declaration: >-
    Azure::Response&lt; Models::AttestationToken&lt; std::string &gt; &gt; AttestationAdministrationClient::GetAttestationPolicy(Models::AttestationType const &amp;&#160;attestationType,                 
                                                                                                                     GetPolicyOptions const &amp;&#160;       options = GetPolicyOptions{},    
                                                                                                                     Azure::Core::Context const &amp;&#160;   context = Azure::Core::Context{}&#160;
                                                                                                                    )                                const
  languageId: cpp
- section: Parameters
  display: h4
- parameters:
  - name: attestationType
    summary: Attestation type to be used when retrieving the policy.
  - name: options
    summary: Options to be used when retrieving the policy.
  - name: context
    summary: User defined context for the operation.
- section: Returns
  display: h4
- parameters:
  - summary: Response&lt;Models::AttestationToken&lt;std::string&gt;&gt; The returned policy from the service.
- content: <a id="a02375cc42ae361b5b33b439ce96d10ed"></a>
- section: GetIsolatedModeCertificates()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.GetIsolatedModeCertificates%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.GetIsolatedModeCertificates()
- declaration: >-
    Azure::Response&lt; Models::AttestationToken&lt; IsolatedModeCertificateListResult &gt; &gt; AttestationAdministrationClient::GetIsolatedModeCertificates(GetIsolatedModeCertificatesOptions const &amp;&#160;options = GetIsolatedModeCertificatesOptions{},
                                                                                                                                                  Azure::Core::Context const &amp;&#160;              context = Azure::Core::Context{}&#160;              
                                                                                                                                                 )                                           const
  languageId: cpp
- content: <p>When the attestation service is running in "Isolated" mode, the service maintains a set of X.509 certificates which must be used to sign all policy operations. The GetIsolatedModeCertificates API returns the list of certificates which are used for this attestation service instance.</p>
- section: Parameters
  display: h4
- parameters:
  - name: options
    summary: Options to be set when retrieving the list of parameters.
  - name: context
    summary: Call context for the operation.
- section: Returns
  display: h4
- parameters:
  - summary: Response&lt;Models::AttestationToken&lt;Models::PolicyCertificateListResult&gt;&gt; Return value from the operation, a set of attestation signers. Attestation policy operations on isolated instances must be signed by one the private key associated with one of the listed certificates.
- content: <a id="a2d85116ce7367b2348e677f808279f51"></a>
- section: RemoveIsolatedModeCertificate()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.RemoveIsolatedModeCertificate%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.RemoveIsolatedModeCertificate()
- declaration: >-
    Azure::Response&lt; Models::AttestationToken&lt; Models::IsolatedModeCertificateModificationResult &gt; &gt; AttestationAdministrationClient::RemoveIsolatedModeCertificate(std::string const &amp;&#160;                         pemEncodedCertificateToAdd,                      
                                                                                                                                                                    AttestationSigningKey const &amp;&#160;               signerForRequest,                                
                                                                                                                                                                    RemoveIsolatedModeCertificateOptions const &amp;&#160;options = RemoveIsolatedModeCertificateOptions{},
                                                                                                                                                                    Azure::Core::Context const &amp;&#160;                context = Azure::Core::Context{}&#160;                
                                                                                                                                                                   )                                             const
  languageId: cpp
- content: '<p>When the attestation service is running in "Isolated" mode, the service maintains a set of X.509 certificates which must be used to sign all policy operations. The #RemoveIsolatedModeCertificates API removes a certificate from the list of certificates which are used for this attestation service instance.</p>'
- section: Note
  display: h4
- parameters:
  - summary: The signerForRequest certificate MUST be one of the policy management certificates returned by <a href="class_azure_1_1_security_1_1_attestation_1_1_attestation_administration_client#a02375cc42ae361b5b33b439ce96d10ed">GetIsolatedModeCertificates</a>.
- section: Parameters
  display: h4
- parameters:
  - name: pemEncodedCertificateToAdd
    summary: The X.509 certificate to remove from the service instance.
  - name: signerForRequest
    summary: Private key and certificate pair to be used to sign the request to the service.
  - name: options
    summary: Options to be set when adding the new certificate.
  - name: context
    summary: Call context for the operation.
- section: Returns
  display: h4
- parameters:
  - summary: Response&lt;Models::AttestationToken&lt;Models::PolicyCertificateListResult&gt;&gt; Return value from the operation.
- content: <a id="a4eec56bda69541415df341df8908368a"></a>
- section: ResetAttestationPolicy()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.ResetAttestationPolicy%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.ResetAttestationPolicy()
- declaration: >-
    Azure::Response&lt; Models::AttestationToken&lt; Models::PolicyResult &gt; &gt; AttestationAdministrationClient::ResetAttestationPolicy(Models::AttestationType const &amp;&#160;attestationType,                 
                                                                                                                                SetPolicyOptions const &amp;&#160;       options = SetPolicyOptions{},    
                                                                                                                                Azure::Core::Context const &amp;&#160;   context = Azure::Core::Context{}&#160;
                                                                                                                               )                                const
  languageId: cpp
- section: Parameters
  display: h4
- parameters:
  - name: attestationType
    summary: Sets the policy on the specified AttestationType.
  - name: options
    summary: Options used when setting the policy, including signer.
  - name: context
    summary: User defined context for the operation.
- section: Returns
  display: h4
- parameters:
  - summary: Response&lt;Models::AttestationToken&lt;Models::PolicyResult&gt;&gt; The result of the reset policy operation.
- content: <a id="a70ce6c8b9e39e1115e8c1885b15db5ea"></a>
- section: SetAttestationPolicy()
  display: h3
  uid: Azure%3A%3ASecurity%3A%3AAttestation%3A%3AAttestationAdministrationClient.SetAttestationPolicy%28%29
  xrefType: Member
  xrefName: Azure::Security::Attestation::AttestationAdministrationClient.SetAttestationPolicy()
- declaration: >-
    Azure::Response&lt; Models::AttestationToken&lt; Models::PolicyResult &gt; &gt; AttestationAdministrationClient::SetAttestationPolicy(Models::AttestationType const &amp;&#160;attestationType,                 
                                                                                                                              std::string const &amp;&#160;            policyToSet,                     
                                                                                                                              SetPolicyOptions const &amp;&#160;       options = SetPolicyOptions{},    
                                                                                                                              Azure::Core::Context const &amp;&#160;   context = Azure::Core::Context{}&#160;
                                                                                                                             )                                const
  languageId: cpp
- content: <p>The SetAttestationPolicy API sets the attestation policy for the specified attestationType to the value specified.</p><p>The result of a SetAttestationPolicy API call is a PolicyResult object, which contains the result of the operation, the hash of the AttestationToken object sent to the service, and (if the <a href="struct_azure_1_1_security_1_1_attestation_1_1_set_policy_options">SetPolicyOptions</a> contains a <code>SigningKey</code> field) the certificate which was used to sign the attestation policy.</p><p>Note that the hash of the AttestationToken is not immediately derivable from the inputs to this function - the function calls the CreateAttestationPolicyToken to create the underlying token which will be sent to the service.</p><p>In order to verify that the attestation service correctly received the attestation policy sent by the client, the caller of the SetAttestationPolicy can also call CreateAttestationPolicyToken and calculate the SHA256 hash of the RawToken field and check to ensure that it matches the value returned by the service.</p>
- section: Parameters
  display: h4
- parameters:
  - name: attestationType
    summary: Sets the policy on the specified AttestationType.
  - name: policyToSet
    summary: The policy document to set.
  - name: options
    summary: Options used when setting the policy, including signer.
  - name: context
    summary: User defined context for the operation.
- section: Returns
  display: h4
- parameters:
  - summary: Response&lt;Models::AttestationToken&lt;Models::PolicyResult&gt;&gt; The result of the set policy operation.
